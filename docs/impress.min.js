/*!
 * impress.js 2.0.0
 * https://github.com/impress/impress.js
 * 
 * Copyright 2011-2024 Bartek Szopka (@bartaz) and contributors
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).impress=t()}(this,(function(){"use strict";var e={};const t=Object.prototype.hasOwnProperty;function n(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function i(e,t,n){const i=e.split("."),r=i.pop();return i.reduce(((e,t)=>e[t]||(e[t]={})),n||window)[r]=t,t}function r(e){return e.split(".").reduce(((e,t)=>e&&e[t]),window)}function o(e,t){return void 0===t&&(t=window),t.getComputedStyle(e)}function s(e){return"number"==typeof e?e+"px":e}function a(e){const t=parseFloat(e);return t||0===t?t:0}function c(e,t,n){const i=o(e,n);return a(i.getPropertyValue(t))}function l(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||window}function u(e,t,n,i){const r=e+"EventListener";t[r](n,i,!1)}function d(e,t,n){u("add",e,t,n)}function p(e,t,n){u("remove",e,t,n)}function f(e,t){return(""+e).split(" ").filter((function(e){return!!e.trim()})).forEach(t)}function h(e,t){f(t,(function(t){e.classList.add(t)}))}function m(e,t){f(t,(function(t){e.classList.remove(t)}))}function g(e,t){f(t,(function(t){e.classList.toggle(t)}))}function y(e,t){const n=document.createElement("div");n.innerHTML=t;const i=n.childNodes;for(;i.length>0;)e.appendChild(i[0])}function v(e,t){return!!e&&e.matches&&e.matches(t)}function w(e,t){if(!e||!t)return null;if(v(e,t))return e;if(e.parentElement)return w(e.parentElement,t);return null}function b(e,t){return e.querySelector(t)}function S(e,t){return Array.prototype.slice.call(e.querySelectorAll(t))}function x(e){if(!e)return{x:0,y:0,z:0};const t=e.match(/translate(3d)?\(\s*([^\)]*)\)/),n=(t?t[2]:"").split(",");return{x:a(n[0])||0,y:a(n[1])||0,z:a(n[2])||0}}function T(e){if(!e)return{x:0,y:0,z:0};const t=e.match(/rotateX\(\s*([^\)]*)\)|rotateY\(\s*([^\)]*)\)|rotate(Z)?\(\s*([^\)]*)\)/g)||[];let n=0,i=0,r=0;return t.forEach((function(e){const t=e.match(/rotate([XYZ]?)\(\s*([^\)]*)\)/);if(t){const e=t[1].toUpperCase(),o=a(t[2]);switch(e){case"X":n=o;break;case"Y":i=o;break;case"Z":case"":r=o}}})),{x:n,y:i,z:r}}function z(e){if(!e)return 1;const t=e.match(/scale(3d)?\(\s*([^\)]*)\)/);if(!t)return 1;const n=(t[2]||"").split(",");return a(n[0])||1}function E(e,t,n,i,r,o,s){return"translate3d("+s(e)+","+s(t)+","+s(n)+") rotateX("+i+"deg) rotateY("+r+"deg) rotateZ("+o+"deg)"}function C(e){return E(e.translate.x,e.translate.y,e.translate.z,e.rotate.x,e.rotate.y,e.rotate.z,s)}function D(e){const t=l(e);if(e===t.document.body)return{x:0,y:0};const n=e.getBoundingClientRect(),i=t.document.documentElement;return{x:n.left-i.clientLeft,y:n.top-i.clientTop}}function R(e){const t=o(e.target||e);return{x:c(e.target,"width",t)/2,y:c(e.target,"height",t)/2}}function A(e){if(!e)return!1;const t=e.getAttribute("id")||"";return!!t.match(/^impress-[a-zA-Z0-9\-]+$/)}function k(e){if(A(e))return e;const t=S(e,"[id^=impress-]");return t.length>0?t[0]:null}function L(e){return b(e,".step")}function N(e){return S(e,".step")}function O(e){const t=parseFloat(e.dataset.x||0),n=parseFloat(e.dataset.y||0),i=parseFloat(e.dataset.z||0),r=parseFloat(e.dataset.rotateX||0),o=parseFloat(e.dataset.rotateY||0),s=parseFloat(e.dataset.rotateZ||e.dataset.rotate||0),a=parseFloat(e.dataset.scale||1);return{translate:{x:t,y:n,z:i},rotate:{x:r,y:o,z:s},scale:a}}function M(e){const t=o(e).perspectiveOrigin.split(" ");return{x:a(t[0]),y:a(t[1])}}function I(e,t){const n=Object.assign({},t),i=n.translate||{};return n.translate={x:i.x||0,y:i.y||0,z:i.z||0},n.rotate=n.rotate||{},n.rotate={x:n.rotate.x||0,y:n.rotate.y||0,z:n.rotate.z||0},n.scale=n.scale||1,n}function P(e){return parseInt(e.dataset.transitionDuration||e.dataset.duration||1e3,10)}function j(e,t){let n=e;for(;n.parentNode&&n!==t;)n=n.parentNode;return n}function X(e){const t={steps:{}};return N(e).forEach((function(e,n){const i=e.getAttribute("id")||"step-"+(n+1);t.steps[i]={el:e,data:O(e)}})),t}var F={};const Y=F.gc=function(){F.roots&&F.trigger("impress:steprefresh")},H=F.addRootElement=function(e){F.roots||(F.roots=[],d(window,"resize",Y),d(window,"hashchange",Y)),F.roots.push(e)},q=F.triggerEvent=function(e,t,n){const i=document.createEvent("CustomEvent");i.initCustomEvent(t,!0,!0,n);const r=e.dispatchEvent(i);return r};F.trigger=function(e,t){if(F.roots)for(let n=0;n<F.roots.length;n++){const i=F.roots[n];q(i,e,t)}},F.addEventListener=function(e,t,n){const i=e.split(" ");i.forEach((function(e){document.addEventListener(e,t,n)}))},F.removeEventListener=function(e,t,n){const i=e.split(" ");i.forEach((function(e){document.removeEventListener(e,t,n)}))};var G={},B={};function W(e,t){const n=O(e);return I(0,n)}B.init=function(e){const t=k(e)||e,n=N(t),i={};n.forEach((function(e){const t=e.getAttribute("id");t&&(i[t]=W(e))})),B.steps=i};var V={};function J(e,t,n,i){const r=e?"none":"all";let o=t;o+="ms ease-in-out",n.style.transitionProperty=r,n.style.transitionDuration=o,n.style.transitionDelay="0ms",n.style.transform=i}function U(e,t,n,i,r,o){const s=l(e.target);if(r&&!o){const t=P(e.active);J(!1,t,e.canvas,C(n.camera))}else J(!0,0,e.canvas,"");if(s.setTimeout((function(){i&&(e.target.classList.add("active"),e.target.classList.remove("future","past")),r&&!o||(e.target.dataset.autoplay&&(e.target.dataset.autoplay=parseInt(e.target.dataset.autoplay)+1))}),i&&r&&!o?P(e.active):0),i&&r&&!o){const t=P(e.active);s.setTimeout((function(){J(!0,0,e.canvas,"")}),t)}}V.goto=function(e,t,n,i){const r=e.steps[t];if(!r)return Promise.reject("Step '"+t+"' not found");const o=e.dom.canvas.style.transform!==C(n.camera),s=new Promise((function(t){U(e,0,n,!0,o,i),t()}));return e.active&&!i&&m(e.active,"active"),e.prevActive=e.active||r.el,e.active=r.el,e.active&&!i&&h(e.active,"active"),h(e.steps.root,"impress-on-"+t.replace(/[^a-zA-Z0-9\-]/g,"_")),s},V.prev=function(e){const t=N(e.dom.root),n=t.indexOf(e.active)-1;return n>=0?V.goto(e,t[n].getAttribute("id"),B.steps[t[n].getAttribute("id")]||W(t[n]),!1):Promise.reject("Already at first step")},V.next=function(e){const t=N(e.dom.root),n=t.indexOf(e.active)+1;return n<t.length?V.goto(e,t[n].getAttribute("id"),B.steps[t[n].getAttribute("id")]||W(t[n]),!1):Promise.reject("Already at last step")};var Q={};Q.computeCamera=function(e,t,n){const i=R(e),r={translate:{x:-t.translate.x,y:-t.translate.y,z:-t.translate.z},rotate:{x:-t.rotate.x,y:-t.rotate.y,z:-t.rotate.z},scale:1/t.scale};return r.translate.x+=i.x-n.x,r.translate.y+=i.y-n.y,r};var K={};const Z="impress-disabled";K.init=function(e){let t,n,i=!1;const a=document.createElement("div");if(void 0===a.style.transformOrigin&&void 0===a.style.OTransformOrigin&&void 0===a.style.msTransformOrigin&&void 0===a.style.MozTransformOrigin&&void 0===a.style.WebkitTransformOrigin)return;document.body.classList.add("impress-supported");const c=(n=e,(t=(t=w(n.activeElement||document.body,".step"))&&t!==document.body?t:L(n)||N(n)[0])||(n.activeElement&&n.activeElement!==document.body?n.activeElement:n)),u=k(e)||e,f=X(u),y=M(u),v={dom:{root:u,canvas:b(u,"#impress")||u},steps:f.steps,active:c,activeStep:c};h(v.dom.root,"impress-enabled"),B.init(v.dom.root);const S=b(v.dom.root,"#impress")||v.dom.root;v.dom.canvas=S;const T=v.active?v.active.getAttribute("id"):null;if(T)h(v.dom.root,"impress-on-"+T.replace(/[^a-zA-Z0-9\-]/g,"_"));else{const e=N(v.dom.root)[0];e&&(v.active=e)}if(v.active){const e=v.active.getAttribute("id"),t=B.steps[e]||W(v.active),n=Q.computeCamera(v.active,t,y);J(!0,0,v.dom.canvas,C(n))}let z,E;function D(e){!i&&e.keyCode>=37&&e.keyCode<=40&&(e.preventDefault(),i=!0)}function A(e){if(i){if(i=!1,e.keyCode>=37&&e.keyCode<=40){switch(e.preventDefault(),e.keyCode){case 33:case 37:case 38:V.prev(v);break;case 9:case 32:case 34:case 39:case 40:e.shiftKey?V.prev(v):V.next(v)}return!1}}}function R(e){"INPUT"===e.target.nodeName||"TEXTAREA"===e.target.nodeName||"SELECT"===e.target.nodeName||v.dom.root.classList.contains(Z)||(i=!1)}d(document,"keydown",D),d(document,"keyup",A),d(document,"click",R);const k={goto:function(e,t){const n=1===arguments.length?e:t;let i;if("string"==typeof n)i=n;else{if(!n||!n.getAttribute)return Promise.reject("Provided element is not a DOM element or does not have an id attribute.");i=n.getAttribute("id")}if(!v.steps[i])return Promise.reject("Step '"+i+"' not found");v.activeStep=v.steps[i].el;const r=B.steps[i]||W(v.activeStep),o=Q.computeCamera(v.activeStep,r,y);return V.goto(v,i,{camera:o},!1).then((()=>{l(v.activeStep).location.hash="#/"+i}))},next:()=>V.next(v).then((()=>{const e=v.active.getAttribute("id");e&&(l(v.active).location.hash="#/"+e)})),prev:()=>V.prev(v).then((()=>{const e=v.active.getAttribute("id");e&&(l(v.active).location.hash="#/"+e)})),swipe:function(e){"left"===e?k.next():"right"===e?k.prev():"up"===e||"down"===e},getStep:function(e){return"number"==typeof e?N(v.dom.root)[e]:"string"==typeof e?v.steps[e]?v.steps[e].el:b(v.dom.root,"#"+e):e&&e.nodeType===Node.ELEMENT_NODE?e:null},onStepEnter:function(e,t){z||(z={}),z[e]=t},onStepLeave:function(e,t){E||(E={}),E[e]=t},addStep:function(e,t){const n=e.getAttribute("id");v.steps[n]||(v.steps[n]={el:e,data:O(e)}),B.steps[n]=I(0,t||{})},teardown:function(){p(document,"keydown",D),p(document,"keyup",A),p(document,"click",R),m(v.dom.root,"impress-enabled"),document.body.classList.remove("impress-supported")}};return d(v.dom.root,"impress:stepenter",(function(e){z&&z[e.target.getAttribute("id")]&&z[e.target.getAttribute("id")](e.target)})),d(v.dom.root,"impress:stepleave",(function(e){E&&E[e.target.getAttribute("id")]&&E[e.target.getAttribute("id")](e.target)})),q(v.dom.root,"impress:init",{api:k}),k};const $=K.init;return e.supported=K,e.default=$,e.gc=Y,$}));